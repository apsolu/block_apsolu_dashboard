{"version":3,"file":"hashes_observer.min.js","sources":["../src/hashes_observer.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Permet d'ouvrir l'onglet \"Mes cours\" lorsque l'utilisateur est déjà sur son tableau de bord\n * et qu'il clique sur le lien \"Mes cours\" dans la barre de navigation en haut de la page.\n *\n * @module     block_apsolu_dashboard/hashes_observer\n * @copyright  2023 Université Rennes 2 <dsi-contact@univ-rennes2.fr>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([], function() {\n    return {\n        initialise: function() {\n            // Surveille le changement d'ancre dans l'URL.\n            var toto = this;\n            window.addEventListener('hashchange', function() {\n                toto.showHash();\n            });\n        },\n        showHash: function() {\n            const hash = window.location.hash;\n\n            if (!hash) {\n                // Il n'y a pas d'ancre dans l'URL appelée.\n                return;\n            }\n\n            const element = document.querySelector(\".nav-tabs a[aria-controls=\" + hash.substring(1) + \"]\");\n            if (!element) {\n                // L'élément pointé par l'ancre n'existe pas.\n                return;\n            }\n\n            // Simule le clic de souris sur l'élément.\n            const eventElement = new MouseEvent('click', {\n                view: window,\n                bubbles: true,\n                cancelable: true\n            });\n            element.dispatchEvent(eventElement);\n        }\n    };\n});\n"],"names":["define","initialise","toto","this","window","addEventListener","showHash","hash","location","element","document","querySelector","substring","eventElement","MouseEvent","view","bubbles","cancelable","dispatchEvent"],"mappings":";;;;;;;;AAuBAA,gDAAO,IAAI,iBACA,CACHC,WAAY,eAEJC,KAAOC,KACXC,OAAOC,iBAAiB,cAAc,WAClCH,KAAKI,eAGbA,SAAU,iBACAC,KAAOH,OAAOI,SAASD,SAExBA,kBAKCE,QAAUC,SAASC,cAAc,6BAA+BJ,KAAKK,UAAU,GAAK,SACrFH,qBAMCI,aAAe,IAAIC,WAAW,QAAS,CACzCC,KAAMX,OACNY,SAAS,EACTC,YAAY,IAEhBR,QAAQS,cAAcL"}