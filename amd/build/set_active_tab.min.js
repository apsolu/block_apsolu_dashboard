/**
 * Enregistre le dernier onglet utilisé sur le tableau de bord dans les préférences de l'utilisateur afin de réafficher
 * automatiquement cet onglet lors de la prochaine visite du tableau de bord.
 *
 * @module     block_apsolu_dashboard/set_active_tab
 * @copyright  2023 Université Rennes 2 <dsi-contact@univ-rennes2.fr>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_apsolu_dashboard/set_active_tab",["block_apsolu_dashboard/preference","core/notification"],(function(UserRepository,Notification){return{initialise:function(activeTab,userid){let tabSelector='#block-apsolu-dashboard-nav-tabs li a[aria-controls="'+activeTab+'"]',tab=document.querySelector(tabSelector);if(tab){let currentActiveTab=document.querySelector("#block-apsolu-dashboard-nav-tabs li a.nav-link.active");if(currentActiveTab.getAttribute("aria-controls")!=activeTab){let currentActiveTabName=currentActiveTab.getAttribute("aria-controls");currentActiveTab.classList.remove("active"),currentActiveTab.setAttribute("tabindex","-1"),currentActiveTab.setAttribute("aria-selected","false"),document.querySelector("#apsolu-dashboard-tab-content #"+currentActiveTabName).classList.remove("active","show"),tab.classList.add("active"),tab.setAttribute("tabindex","0"),tab.setAttribute("aria-selected","true"),document.querySelector("#apsolu-dashboard-tab-content #"+activeTab).classList.add("active","show")}}document.querySelectorAll("#block-apsolu-dashboard-nav-tabs li a.nav-link").forEach((function(tab){tab.addEventListener("click",(function(){let value=tab.getAttribute("aria-controls");UserRepository.setUserPreference("block_apsolu_dahsboard_active_tab",value,userid).catch(Notification.exception)}))}))}}}));

//# sourceMappingURL=set_active_tab.min.js.map